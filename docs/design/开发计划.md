# JSite 快速开发平台 - 开发计划

> 版本：1.0.0
> 创建日期：2026-01-15

---

## 目录

1. [项目概述](#1-项目概述)
2. [开发阶段划分](#2-开发阶段划分)
3. [第一阶段：项目基础搭建](#3-第一阶段项目基础搭建)
4. [第二阶段：系统管理模块](#4-第二阶段系统管理模块)
5. [第三阶段：权限管理模块](#5-第三阶段权限管理模块)
6. [第四阶段：代码生成模块](#6-第四阶段代码生成模块)
7. [第五阶段：系统监控模块](#7-第五阶段系统监控模块)
8. [第六阶段：测试与优化](#8-第六阶段测试与优化)
9. [技术实现要点](#9-技术实现要点)
10. [风险与应对](#10-风险与应对)

---

## 1. 项目概述

### 1.1 项目目标

构建一套基于 Spring Boot 3 + Vue 3 的企业级快速开发平台，实现：
- 完整的RBAC权限管理体系
- 可视化代码生成器
- 灵活的菜单配置
- 前后端分离架构

### 1.2 技术架构

```
前端：Vue 3 + TypeScript + Vite + Ant Design Vue + Pinia
后端：Spring Boot 3 + Sa-Token + MyBatis-Plus + MySQL + Redis
```

### 1.3 项目结构

```
jsite/
├── jsite-admin/          # 后端服务
│   ├── src/main/java/
│   │   └── com/jsite/
│   │       ├── common/       # 通用模块
│   │       ├── framework/    # 框架配置
│   │       └── modules/      # 业务模块
│   │           ├── system/   # 系统管理
│   │           ├── monitor/  # 系统监控
│   │           └── gen/      # 代码生成
│   └── src/main/resources/
│       ├── application.yml
│       └── db/migration/     # 数据库脚本
│
├── jsite-ui/             # 前端应用
│   ├── src/
│   │   ├── api/          # 接口
│   │   ├── components/   # 组件
│   │   ├── hooks/        # 组合函数
│   │   ├── layouts/      # 布局
│   │   ├── router/       # 路由
│   │   ├── store/        # 状态
│   │   ├── utils/        # 工具
│   │   └── views/        # 页面
│   └── vite.config.ts
│
└── docs/                 # 文档
    └── design/
        ├── 系统设计方案.md
        └── 开发计划.md
```

---

## 2. 开发阶段划分

```
┌─────────────────────────────────────────────────────────────────────────┐
│                           JSite 开发路线图                               │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  阶段一                阶段二              阶段三              阶段四     │
│  项目基础              系统管理            权限管理            代码生成   │
│  ┌─────┐              ┌─────┐            ┌─────┐            ┌─────┐    │
│  │ 搭建 │ ──────────► │ 用户 │ ────────► │ 数据 │ ────────► │ 模板 │    │
│  │ 框架 │              │ 角色 │            │ 权限 │            │ 生成 │    │
│  │ 配置 │              │ 菜单 │            │ 按钮 │            │ 预览 │    │
│  └─────┘              │ 部门 │            │ 权限 │            └─────┘    │
│                       └─────┘            └─────┘                        │
│                                                                         │
│  阶段五                阶段六                                            │
│  系统监控              测试优化                                          │
│  ┌─────┐              ┌─────┐                                          │
│  │ 日志 │ ──────────► │ 测试 │ ──────────► 发布                         │
│  │ 在线 │              │ 文档 │                                          │
│  │ 监控 │              │ 部署 │                                          │
│  └─────┘              └─────┘                                          │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 3. 第一阶段：项目基础搭建

### 3.1 后端基础搭建

#### 3.1.1 Maven项目初始化

**任务清单：**

- [ ] 创建Maven项目结构
- [ ] 配置pom.xml依赖管理
- [ ] 创建基础包结构
- [ ] 配置application.yml

**pom.xml 核心依赖：**

```xml
<!-- 父依赖 -->
<parent>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-parent</artifactId>
    <version>3.2.2</version>
</parent>

<dependencies>
    <!-- Spring Boot -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-validation</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-aop</artifactId>
    </dependency>

    <!-- Sa-Token -->
    <dependency>
        <groupId>cn.dev33</groupId>
        <artifactId>sa-token-spring-boot3-starter</artifactId>
        <version>1.37.0</version>
    </dependency>
    <dependency>
        <groupId>cn.dev33</groupId>
        <artifactId>sa-token-redis-jackson</artifactId>
        <version>1.37.0</version>
    </dependency>

    <!-- MyBatis-Plus -->
    <dependency>
        <groupId>com.baomidou</groupId>
        <artifactId>mybatis-plus-spring-boot3-starter</artifactId>
        <version>3.5.5</version>
    </dependency>

    <!-- 数据库 -->
    <dependency>
        <groupId>com.mysql</groupId>
        <artifactId>mysql-connector-j</artifactId>
    </dependency>
    <dependency>
        <groupId>com.alibaba</groupId>
        <artifactId>druid-spring-boot-3-starter</artifactId>
        <version>1.2.21</version>
    </dependency>

    <!-- Redis -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-data-redis</artifactId>
    </dependency>
    <dependency>
        <groupId>org.apache.commons</groupId>
        <artifactId>commons-pool2</artifactId>
    </dependency>

    <!-- 工具库 -->
    <dependency>
        <groupId>cn.hutool</groupId>
        <artifactId>hutool-all</artifactId>
        <version>5.8.25</version>
    </dependency>
    <dependency>
        <groupId>org.projectlombok</groupId>
        <artifactId>lombok</artifactId>
    </dependency>

    <!-- 接口文档 -->
    <dependency>
        <groupId>com.github.xiaoymin</groupId>
        <artifactId>knife4j-openapi3-jakarta-spring-boot-starter</artifactId>
        <version>4.4.0</version>
    </dependency>

    <!-- Excel -->
    <dependency>
        <groupId>com.alibaba</groupId>
        <artifactId>easyexcel</artifactId>
        <version>3.3.3</version>
    </dependency>

    <!-- 模板引擎 -->
    <dependency>
        <groupId>org.freemarker</groupId>
        <artifactId>freemarker</artifactId>
    </dependency>
</dependencies>
```

#### 3.1.2 通用模块开发

**任务清单：**

- [ ] 统一响应封装 (R.java)
- [ ] 全局异常处理 (GlobalExceptionHandler.java)
- [ ] 基础实体类 (BaseEntity.java, TreeEntity.java)
- [ ] 分页封装 (PageQuery.java, TableDataInfo.java)
- [ ] 常用工具类 (StringUtils, DateUtils, SecurityUtils, TreeUtils)

**文件清单：**

```
com/jsite/common/
├── core/
│   ├── domain/
│   │   ├── R.java                    # 统一响应
│   │   ├── BaseEntity.java           # 基础实体
│   │   └── TreeEntity.java           # 树形实体
│   ├── page/
│   │   ├── PageQuery.java            # 分页查询
│   │   └── TableDataInfo.java        # 分页响应
│   └── controller/
│       └── BaseController.java       # 基础控制器
├── constant/
│   ├── Constants.java                # 通用常量
│   ├── HttpStatus.java               # HTTP状态码
│   └── CacheConstants.java           # 缓存常量
├── exception/
│   ├── ServiceException.java         # 业务异常
│   └── GlobalExceptionHandler.java   # 全局异常处理
├── utils/
│   ├── StringUtils.java              # 字符串工具
│   ├── DateUtils.java                # 日期工具
│   ├── SecurityUtils.java            # 安全工具
│   ├── TreeUtils.java                # 树形工具
│   ├── ServletUtils.java             # Servlet工具
│   └── SqlUtils.java                 # SQL工具
└── annotation/
    ├── Log.java                      # 操作日志注解
    ├── DataScope.java                # 数据权限注解
    └── RateLimiter.java              # 限流注解
```

#### 3.1.3 框架配置模块

**任务清单：**

- [ ] Sa-Token配置
- [ ] MyBatis-Plus配置
- [ ] Redis配置
- [ ] 跨域配置
- [ ] 接口文档配置

**文件清单：**

```
com/jsite/framework/
├── config/
│   ├── SaTokenConfig.java            # Sa-Token配置
│   ├── MybatisPlusConfig.java        # MyBatis-Plus配置
│   ├── RedisConfig.java              # Redis配置
│   ├── CorsConfig.java               # 跨域配置
│   ├── Knife4jConfig.java            # 接口文档配置
│   └── ThreadPoolConfig.java         # 线程池配置
├── mybatis/
│   ├── MyMetaObjectHandler.java      # 字段自动填充
│   └── DataScopeInterceptor.java     # 数据权限拦截器
├── security/
│   ├── SaTokenExceptionHandler.java  # Token异常处理
│   └── StpInterfaceImpl.java         # 权限认证接口实现
└── web/
    ├── RepeatableFilter.java         # 可重复读取请求体
    └── XssFilter.java                # XSS过滤
```

#### 3.1.4 数据库初始化

**任务清单：**

- [ ] 创建数据库
- [ ] 创建核心表结构
- [ ] 初始化基础数据

**SQL脚本清单：**

```
db/migration/
├── V1.0.0__create_tables.sql         # 创建表结构
├── V1.0.1__init_data.sql             # 初始化数据
└── V1.0.2__create_index.sql          # 创建索引
```

### 3.2 前端基础搭建

#### 3.2.1 Vite项目初始化

**任务清单：**

- [ ] 使用Vite创建Vue3+TS项目
- [ ] 配置路径别名
- [ ] 配置环境变量
- [ ] 配置代理

**命令：**

```bash
pnpm create vite jsite-ui --template vue-ts
cd jsite-ui
pnpm install
```

**核心依赖：**

```json
{
  "dependencies": {
    "vue": "^3.4.15",
    "vue-router": "^4.2.5",
    "pinia": "^2.1.7",
    "axios": "^1.6.5",
    "ant-design-vue": "^4.1.2",
    "@ant-design/icons-vue": "^7.0.1",
    "dayjs": "^1.11.10",
    "lodash-es": "^4.17.21",
    "nprogress": "^0.2.0"
  },
  "devDependencies": {
    "@types/lodash-es": "^4.17.12",
    "@types/nprogress": "^0.2.3",
    "@vitejs/plugin-vue": "^5.0.3",
    "less": "^4.2.0",
    "typescript": "^5.3.3",
    "vite": "^5.0.11",
    "eslint": "^8.56.0",
    "prettier": "^3.2.4"
  }
}
```

#### 3.2.2 基础架构搭建

**任务清单：**

- [ ] 配置路由系统
- [ ] 配置状态管理
- [ ] 封装Axios请求
- [ ] 配置全局样式
- [ ] 配置布局组件

**文件清单：**

```
src/
├── router/
│   ├── index.ts                      # 路由实例
│   ├── routes/
│   │   ├── index.ts                  # 路由汇总
│   │   └── modules/
│   │       └── base.ts               # 基础路由
│   └── guard/
│       ├── index.ts                  # 守卫入口
│       └── permissionGuard.ts        # 权限守卫
│
├── store/
│   ├── index.ts                      # Store实例
│   └── modules/
│       ├── user.ts                   # 用户状态
│       ├── permission.ts             # 权限状态
│       ├── app.ts                    # 应用状态
│       └── tabs.ts                   # 标签页状态
│
├── utils/
│   ├── http/
│   │   ├── axios.ts                  # Axios封装
│   │   ├── index.ts                  # 导出
│   │   └── types.ts                  # 类型定义
│   ├── auth/
│   │   └── index.ts                  # Token管理
│   ├── cache/
│   │   └── index.ts                  # 缓存管理
│   └── index.ts                      # 工具汇总
│
├── layouts/
│   ├── default/
│   │   ├── index.vue                 # 默认布局
│   │   ├── header/
│   │   │   └── index.vue             # 顶部导航
│   │   ├── sider/
│   │   │   ├── index.vue             # 侧边栏
│   │   │   └── Menu.vue              # 菜单组件
│   │   ├── content/
│   │   │   └── index.vue             # 内容区
│   │   └── tabs/
│   │       └── index.vue             # 标签页
│   └── blank/
│       └── index.vue                 # 空白布局
│
└── assets/
    └── styles/
        ├── index.less                # 全局样式入口
        ├── variables.less            # 变量定义
        └── reset.less                # 样式重置
```

#### 3.2.3 通用组件开发

**任务清单：**

- [ ] 图标组件 (Icon)
- [ ] 表格组件 (BasicTable)
- [ ] 表单组件 (BasicForm)
- [ ] 弹窗组件 (BasicModal)
- [ ] 字典组件 (DictTag, DictSelect)

**文件清单：**

```
src/components/
├── Icon/
│   ├── src/
│   │   └── Icon.vue
│   └── index.ts
├── Table/
│   ├── src/
│   │   ├── BasicTable.vue
│   │   └── types.ts
│   └── index.ts
├── Form/
│   ├── src/
│   │   ├── BasicForm.vue
│   │   └── types.ts
│   └── index.ts
├── Modal/
│   ├── src/
│   │   └── BasicModal.vue
│   └── index.ts
└── Dict/
    ├── src/
    │   ├── DictTag.vue
    │   └── DictSelect.vue
    └── index.ts
```

#### 3.2.4 登录页面开发

**任务清单：**

- [ ] 登录页面UI
- [ ] 登录表单验证
- [ ] 验证码功能
- [ ] 登录接口对接
- [ ] Token存储

---

## 4. 第二阶段：系统管理模块

### 4.1 用户管理

#### 4.1.1 后端开发

**任务清单：**

- [ ] SysUser实体类
- [ ] SysUserMapper接口及XML
- [ ] ISysUserService接口
- [ ] SysUserServiceImpl实现类
- [ ] SysUserController控制器

**接口清单：**

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | /api/system/user/list | 用户列表 |
| GET | /api/system/user/{userId} | 用户详情 |
| POST | /api/system/user | 新增用户 |
| PUT | /api/system/user | 修改用户 |
| DELETE | /api/system/user/{userIds} | 删除用户 |
| PUT | /api/system/user/resetPwd | 重置密码 |
| PUT | /api/system/user/changeStatus | 修改状态 |
| GET | /api/system/user/export | 导出用户 |
| POST | /api/system/user/import | 导入用户 |

#### 4.1.2 前端开发

**任务清单：**

- [ ] 用户管理API (api/system/user.ts)
- [ ] 用户列表页面 (views/system/user/index.vue)
- [ ] 用户表单组件 (views/system/user/UserForm.vue)
- [ ] 用户导入组件 (views/system/user/UserImport.vue)

### 4.2 角色管理

#### 4.2.1 后端开发

**任务清单：**

- [ ] SysRole实体类
- [ ] SysRoleMapper接口及XML
- [ ] ISysRoleService接口
- [ ] SysRoleServiceImpl实现类
- [ ] SysRoleController控制器
- [ ] 角色-菜单关联
- [ ] 角色-部门关联

**接口清单：**

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | /api/system/role/list | 角色列表 |
| GET | /api/system/role/{roleId} | 角色详情 |
| POST | /api/system/role | 新增角色 |
| PUT | /api/system/role | 修改角色 |
| DELETE | /api/system/role/{roleIds} | 删除角色 |
| PUT | /api/system/role/dataScope | 数据权限 |
| PUT | /api/system/role/changeStatus | 修改状态 |
| GET | /api/system/role/optionselect | 角色选项 |

#### 4.2.2 前端开发

**任务清单：**

- [ ] 角色管理API (api/system/role.ts)
- [ ] 角色列表页面 (views/system/role/index.vue)
- [ ] 角色表单组件 (views/system/role/RoleForm.vue)
- [ ] 菜单授权组件 (views/system/role/MenuAuth.vue)
- [ ] 数据权限组件 (views/system/role/DataScope.vue)

### 4.3 菜单管理

#### 4.3.1 后端开发

**任务清单：**

- [ ] SysMenu实体类
- [ ] SysMenuMapper接口及XML
- [ ] ISysMenuService接口
- [ ] SysMenuServiceImpl实现类
- [ ] SysMenuController控制器
- [ ] 菜单树形结构处理

**接口清单：**

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | /api/system/menu/list | 菜单列表 |
| GET | /api/system/menu/{menuId} | 菜单详情 |
| POST | /api/system/menu | 新增菜单 |
| PUT | /api/system/menu | 修改菜单 |
| DELETE | /api/system/menu/{menuId} | 删除菜单 |
| GET | /api/system/menu/treeselect | 菜单树选择 |
| GET | /api/system/menu/roleMenuTree/{roleId} | 角色菜单树 |

#### 4.3.2 前端开发

**任务清单：**

- [ ] 菜单管理API (api/system/menu.ts)
- [ ] 菜单列表页面 (views/system/menu/index.vue)
- [ ] 菜单表单组件 (views/system/menu/MenuForm.vue)
- [ ] 图标选择组件 (components/IconPicker)

### 4.4 部门管理

#### 4.4.1 后端开发

**任务清单：**

- [ ] SysDept实体类（树形）
- [ ] SysDeptMapper接口及XML
- [ ] ISysDeptService接口
- [ ] SysDeptServiceImpl实现类
- [ ] SysDeptController控制器
- [ ] 部门树形结构处理
- [ ] ancestors字段维护

**接口清单：**

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | /api/system/dept/list | 部门列表 |
| GET | /api/system/dept/list/exclude/{deptId} | 排除节点列表 |
| GET | /api/system/dept/{deptId} | 部门详情 |
| POST | /api/system/dept | 新增部门 |
| PUT | /api/system/dept | 修改部门 |
| DELETE | /api/system/dept/{deptId} | 删除部门 |
| GET | /api/system/dept/treeselect | 部门树选择 |

#### 4.4.2 前端开发

**任务清单：**

- [ ] 部门管理API (api/system/dept.ts)
- [ ] 部门列表页面 (views/system/dept/index.vue)
- [ ] 部门表单组件 (views/system/dept/DeptForm.vue)
- [ ] 部门树组件 (components/DeptTree)

### 4.5 岗位管理

#### 4.5.1 后端开发

**任务清单：**

- [ ] SysPost实体类
- [ ] SysPostMapper接口及XML
- [ ] ISysPostService接口
- [ ] SysPostServiceImpl实现类
- [ ] SysPostController控制器

**接口清单：**

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | /api/system/post/list | 岗位列表 |
| GET | /api/system/post/{postId} | 岗位详情 |
| POST | /api/system/post | 新增岗位 |
| PUT | /api/system/post | 修改岗位 |
| DELETE | /api/system/post/{postIds} | 删除岗位 |
| GET | /api/system/post/optionselect | 岗位选项 |

#### 4.5.2 前端开发

**任务清单：**

- [ ] 岗位管理API (api/system/post.ts)
- [ ] 岗位列表页面 (views/system/post/index.vue)
- [ ] 岗位表单组件 (views/system/post/PostForm.vue)

### 4.6 字典管理

#### 4.6.1 后端开发

**任务清单：**

- [ ] SysDictType实体类
- [ ] SysDictData实体类
- [ ] Mapper接口及XML
- [ ] Service接口及实现
- [ ] Controller控制器
- [ ] 字典缓存处理

**接口清单：**

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | /api/system/dict/type/list | 字典类型列表 |
| GET | /api/system/dict/type/{dictId} | 字典类型详情 |
| POST | /api/system/dict/type | 新增字典类型 |
| PUT | /api/system/dict/type | 修改字典类型 |
| DELETE | /api/system/dict/type/{dictIds} | 删除字典类型 |
| DELETE | /api/system/dict/type/refreshCache | 刷新缓存 |
| GET | /api/system/dict/type/optionselect | 字典类型选项 |
| GET | /api/system/dict/data/list | 字典数据列表 |
| GET | /api/system/dict/data/{dictCode} | 字典数据详情 |
| GET | /api/system/dict/data/type/{dictType} | 根据类型查询 |
| POST | /api/system/dict/data | 新增字典数据 |
| PUT | /api/system/dict/data | 修改字典数据 |
| DELETE | /api/system/dict/data/{dictCodes} | 删除字典数据 |

#### 4.6.2 前端开发

**任务清单：**

- [ ] 字典管理API (api/system/dict.ts)
- [ ] 字典类型页面 (views/system/dict/index.vue)
- [ ] 字典数据页面 (views/system/dict/data.vue)
- [ ] 字典Hook (hooks/web/useDict.ts)

### 4.7 系统配置

#### 4.7.1 后端开发

**任务清单：**

- [ ] SysConfig实体类
- [ ] SysConfigMapper接口及XML
- [ ] ISysConfigService接口
- [ ] SysConfigServiceImpl实现类
- [ ] SysConfigController控制器
- [ ] 配置缓存处理

**接口清单：**

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | /api/system/config/list | 配置列表 |
| GET | /api/system/config/{configId} | 配置详情 |
| GET | /api/system/config/configKey/{configKey} | 根据key查询 |
| POST | /api/system/config | 新增配置 |
| PUT | /api/system/config | 修改配置 |
| DELETE | /api/system/config/{configIds} | 删除配置 |
| DELETE | /api/system/config/refreshCache | 刷新缓存 |

#### 4.7.2 前端开发

**任务清单：**

- [ ] 配置管理API (api/system/config.ts)
- [ ] 配置列表页面 (views/system/config/index.vue)
- [ ] 配置表单组件 (views/system/config/ConfigForm.vue)

---

## 5. 第三阶段：权限管理模块

### 5.1 认证授权

#### 5.1.1 后端开发

**任务清单：**

- [ ] 登录接口
- [ ] 登出接口
- [ ] 获取用户信息接口
- [ ] 获取路由接口
- [ ] 验证码生成
- [ ] Token管理

**接口清单：**

| 方法 | 路径 | 说明 |
|------|------|------|
| POST | /api/auth/login | 登录 |
| POST | /api/auth/logout | 登出 |
| GET | /api/auth/getInfo | 获取用户信息 |
| GET | /api/auth/getRouters | 获取路由菜单 |
| GET | /api/auth/captcha | 获取验证码 |

**文件清单：**

```
com/jsite/framework/security/
├── service/
│   └── SysLoginService.java          # 登录服务
├── controller/
│   └── AuthController.java           # 认证控制器
└── dto/
    ├── LoginDTO.java                 # 登录请求
    └── LoginUser.java                # 登录用户信息
```

#### 5.1.2 前端开发

**任务清单：**

- [ ] 登录API (api/login.ts)
- [ ] 用户状态管理完善
- [ ] 权限状态管理完善
- [ ] 动态路由生成

### 5.2 菜单权限

#### 5.2.1 后端开发

**任务清单：**

- [ ] 用户菜单查询
- [ ] 菜单转路由格式
- [ ] 菜单权限缓存

#### 5.2.2 前端开发

**任务清单：**

- [ ] 动态路由转换 (router/helper/menuHelper.ts)
- [ ] 菜单渲染组件优化
- [ ] 面包屑组件

### 5.3 按钮权限

#### 5.3.1 后端开发

**任务清单：**

- [ ] 权限标识查询
- [ ] @SaCheckPermission注解使用
- [ ] 权限验证服务

#### 5.3.2 前端开发

**任务清单：**

- [ ] 权限指令 (directives/permission.ts)
- [ ] 权限Hook (hooks/web/usePermission.ts)
- [ ] 角色指令 (directives/role.ts)

### 5.4 数据权限

#### 5.4.1 后端开发

**任务清单：**

- [ ] @DataScope注解
- [ ] DataScopeAspect切面
- [ ] 数据权限SQL拼接
- [ ] 多角色数据权限合并

**文件清单：**

```
com/jsite/common/
├── annotation/
│   └── DataScope.java                # 数据权限注解
└── aspect/
    └── DataScopeAspect.java          # 数据权限切面
```

**数据范围枚举：**

```java
public enum DataScopeEnum {
    ALL("1", "全部数据"),
    CUSTOM("2", "自定义数据"),
    DEPT("3", "本部门数据"),
    DEPT_AND_CHILD("4", "本部门及以下"),
    SELF("5", "仅本人数据");
}
```

---

## 6. 第四阶段：代码生成模块

### 6.1 代码生成核心

#### 6.1.1 后端开发

**任务清单：**

- [ ] GenTable实体类
- [ ] GenTableColumn实体类
- [ ] 数据库表信息读取
- [ ] 表结构解析
- [ ] 代码生成服务
- [ ] FreeMarker模板引擎集成

**接口清单：**

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | /api/gen/list | 已导入表列表 |
| GET | /api/gen/db/list | 数据库表列表 |
| GET | /api/gen/{tableId} | 表详情 |
| POST | /api/gen/importTable | 导入表 |
| PUT | /api/gen | 修改表配置 |
| DELETE | /api/gen/{tableIds} | 删除表 |
| GET | /api/gen/preview/{tableId} | 预览代码 |
| GET | /api/gen/download/{tableId} | 下载代码 |
| GET | /api/gen/genCode/{tableId} | 生成到项目 |
| GET | /api/gen/synchDb/{tableId} | 同步数据库 |

**文件清单：**

```
com/jsite/modules/gen/
├── controller/
│   └── GenController.java            # 代码生成控制器
├── service/
│   ├── IGenTableService.java         # 服务接口
│   └── impl/
│       └── GenTableServiceImpl.java  # 服务实现
├── mapper/
│   ├── GenTableMapper.java           # 表Mapper
│   ├── GenTableColumnMapper.java     # 列Mapper
│   └── xml/
│       ├── GenTableMapper.xml
│       └── GenTableColumnMapper.xml
├── entity/
│   ├── GenTable.java                 # 代码生成表
│   └── GenTableColumn.java           # 代码生成列
└── util/
    ├── GenUtils.java                 # 生成工具类
    └── VelocityUtils.java            # 模板工具类
```

#### 6.1.2 代码模板开发

**任务清单：**

- [ ] Java实体类模板 (entity.java.ftl)
- [ ] Mapper接口模板 (mapper.java.ftl)
- [ ] Mapper XML模板 (mapper.xml.ftl)
- [ ] Service接口模板 (service.java.ftl)
- [ ] Service实现模板 (serviceImpl.java.ftl)
- [ ] Controller模板 (controller.java.ftl)
- [ ] Vue列表页模板 (index.vue.ftl)
- [ ] Vue表单组件模板 (form.vue.ftl)
- [ ] API接口模板 (api.ts.ftl)
- [ ] SQL模板 (sql.ftl)

**模板目录：**

```
resources/templates/gen/
├── java/
│   ├── entity.java.ftl
│   ├── mapper.java.ftl
│   ├── service.java.ftl
│   ├── serviceImpl.java.ftl
│   └── controller.java.ftl
├── xml/
│   └── mapper.xml.ftl
├── vue/
│   ├── index.vue.ftl
│   ├── form.vue.ftl
│   └── api.ts.ftl
└── sql/
    └── sql.ftl
```

### 6.2 代码生成前端

#### 6.2.1 前端开发

**任务清单：**

- [ ] 代码生成API (api/gen/gen.ts)
- [ ] 表列表页面 (views/gen/index.vue)
- [ ] 导入表弹窗 (views/gen/ImportTable.vue)
- [ ] 编辑配置页面 (views/gen/EditTable.vue)
- [ ] 字段配置组件 (views/gen/ColumnConfig.vue)
- [ ] 代码预览页面 (views/gen/Preview.vue)
- [ ] 代码编辑器组件 (Monaco Editor)

---

## 7. 第五阶段：系统监控模块

### 7.1 操作日志

#### 7.1.1 后端开发

**任务清单：**

- [ ] SysOperLog实体类
- [ ] @Log注解
- [ ] LogAspect切面
- [ ] 操作日志服务
- [ ] 异步写入日志

**接口清单：**

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | /api/monitor/operlog/list | 日志列表 |
| DELETE | /api/monitor/operlog/{operIds} | 删除日志 |
| DELETE | /api/monitor/operlog/clean | 清空日志 |
| GET | /api/monitor/operlog/export | 导出日志 |

#### 7.1.2 前端开发

**任务清单：**

- [ ] 操作日志API (api/monitor/operLog.ts)
- [ ] 日志列表页面 (views/monitor/operLog/index.vue)
- [ ] 日志详情弹窗

### 7.2 登录日志

#### 7.2.1 后端开发

**任务清单：**

- [ ] SysLoginLog实体类
- [ ] 登录日志服务
- [ ] 登录成功/失败记录

**接口清单：**

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | /api/monitor/loginlog/list | 登录日志列表 |
| DELETE | /api/monitor/loginlog/{infoIds} | 删除日志 |
| DELETE | /api/monitor/loginlog/clean | 清空日志 |
| GET | /api/monitor/loginlog/export | 导出日志 |
| POST | /api/monitor/loginlog/unlock/{userName} | 解锁用户 |

#### 7.2.2 前端开发

**任务清单：**

- [ ] 登录日志API (api/monitor/loginLog.ts)
- [ ] 登录日志页面 (views/monitor/loginLog/index.vue)

### 7.3 在线用户

#### 7.3.1 后端开发

**任务清单：**

- [ ] 在线用户查询
- [ ] 强制下线

**接口清单：**

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | /api/monitor/online/list | 在线用户列表 |
| DELETE | /api/monitor/online/{tokenId} | 强制下线 |

#### 7.3.2 前端开发

**任务清单：**

- [ ] 在线用户API (api/monitor/online.ts)
- [ ] 在线用户页面 (views/monitor/online/index.vue)

### 7.4 服务监控（可选）

#### 7.4.1 后端开发

**任务清单：**

- [ ] 服务器信息获取
- [ ] JVM信息获取
- [ ] 系统CPU、内存信息

#### 7.4.2 前端开发

**任务清单：**

- [ ] 服务监控页面
- [ ] ECharts图表展示

---

## 8. 第六阶段：测试与优化

### 8.1 单元测试

**任务清单：**

- [ ] Service层单元测试
- [ ] Controller层接口测试
- [ ] 权限相关测试

### 8.2 集成测试

**任务清单：**

- [ ] 登录流程测试
- [ ] 权限验证测试
- [ ] 代码生成测试

### 8.3 性能优化

**任务清单：**

- [ ] SQL优化
- [ ] 缓存优化
- [ ] 接口响应优化
- [ ] 前端打包优化

### 8.4 安全加固

**任务清单：**

- [ ] XSS防护
- [ ] SQL注入防护
- [ ] CSRF防护
- [ ] 敏感数据加密
- [ ] 接口限流

### 8.5 文档完善

**任务清单：**

- [ ] 接口文档完善
- [ ] 部署文档
- [ ] 使用手册
- [ ] 开发指南

### 8.6 部署上线

**任务清单：**

- [ ] Docker镜像构建
- [ ] Docker Compose配置
- [ ] Nginx配置
- [ ] 生产环境部署
- [ ] 监控告警配置

---

## 9. 技术实现要点

### 9.1 Sa-Token集成要点

```java
// 1. 配置类
@Configuration
public class SaTokenConfig {
    @Bean
    public StpLogic getStpLogicJwt() {
        return new StpLogicJwtForSimple();
    }
}

// 2. 权限认证实现
@Component
public class StpInterfaceImpl implements StpInterface {
    @Override
    public List<String> getPermissionList(Object loginId, String loginType) {
        // 返回用户权限列表
    }

    @Override
    public List<String> getRoleList(Object loginId, String loginType) {
        // 返回用户角色列表
    }
}

// 3. 登录示例
StpUtil.login(user.getId());
StpUtil.getSession().set("user", loginUser);

// 4. 权限校验注解
@SaCheckPermission("system:user:add")
@PostMapping
public R<Void> add(@RequestBody SysUser user) { }
```

### 9.2 MyBatis-Plus配置要点

```java
// 1. 配置类
@Configuration
@MapperScan("com.jsite.**.mapper")
public class MybatisPlusConfig {
    @Bean
    public MybatisPlusInterceptor mybatisPlusInterceptor() {
        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
        // 分页插件
        interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL));
        // 乐观锁
        interceptor.addInnerInterceptor(new OptimisticLockerInnerInterceptor());
        return interceptor;
    }
}

// 2. 字段自动填充
@Component
public class MyMetaObjectHandler implements MetaObjectHandler {
    @Override
    public void insertFill(MetaObject metaObject) {
        this.strictInsertFill(metaObject, "createTime", LocalDateTime::now, LocalDateTime.class);
        this.strictInsertFill(metaObject, "createBy", SecurityUtils::getUsername, String.class);
    }

    @Override
    public void updateFill(MetaObject metaObject) {
        this.strictUpdateFill(metaObject, "updateTime", LocalDateTime::now, LocalDateTime.class);
        this.strictUpdateFill(metaObject, "updateBy", SecurityUtils::getUsername, String.class);
    }
}
```

### 9.3 数据权限实现要点

```java
// 1. 注解定义
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface DataScope {
    String deptAlias() default "d";
    String userAlias() default "u";
}

// 2. 切面处理
@Aspect
@Component
public class DataScopeAspect {
    @Before("@annotation(dataScope)")
    public void doBefore(JoinPoint point, DataScope dataScope) {
        // 构建数据权限SQL
        StringBuilder sqlString = new StringBuilder();
        LoginUser loginUser = SecurityUtils.getLoginUser();

        for (SysRole role : loginUser.getUser().getRoles()) {
            String scope = role.getDataScope();
            if ("1".equals(scope)) {
                // 全部数据
                sqlString = new StringBuilder();
                break;
            } else if ("2".equals(scope)) {
                // 自定义数据
                sqlString.append(String.format(
                    " OR %s.dept_id IN (SELECT dept_id FROM sys_role_dept WHERE role_id = %d)",
                    dataScope.deptAlias(), role.getRoleId()
                ));
            }
            // ... 其他范围
        }

        // 设置数据权限SQL到参数
        if (StringUtils.isNotBlank(sqlString.toString())) {
            Object params = point.getArgs()[0];
            if (params instanceof BaseEntity) {
                ((BaseEntity) params).getParams().put("dataScope", " AND (" + sqlString.substring(4) + ")");
            }
        }
    }
}

// 3. Mapper中使用
<select id="selectUserList" resultMap="SysUserResult">
    SELECT * FROM sys_user u
    LEFT JOIN sys_dept d ON u.dept_id = d.dept_id
    WHERE u.del_flag = '0'
    ${params.dataScope}
</select>
```

### 9.4 动态路由实现要点

```typescript
// 前端动态路由生成
function generateRoutes(menus: RouteMenu[]): RouteRecordRaw[] {
  const routes: RouteRecordRaw[] = [];

  menus.forEach(menu => {
    const route: RouteRecordRaw = {
      path: menu.path,
      name: menu.name,
      component: loadComponent(menu.component),
      meta: {
        title: menu.meta.title,
        icon: menu.meta.icon,
        noCache: !menu.meta.cache,
        hidden: menu.hidden
      },
      children: menu.children ? generateRoutes(menu.children) : undefined
    };
    routes.push(route);
  });

  return routes;
}

// 动态加载组件
const modules = import.meta.glob('../views/**/*.vue');

function loadComponent(component: string) {
  if (component === 'Layout') {
    return () => import('@/layouts/default/index.vue');
  }
  const path = `../views/${component}.vue`;
  return modules[path];
}
```

### 9.5 代码生成核心逻辑

```java
// 1. 读取数据库表信息
public List<GenTable> selectDbTableList(String tableName) {
    return genTableMapper.selectDbTableList(tableName);
}

// 2. 解析表结构
public void importGenTable(String[] tableNames) {
    List<GenTable> tables = genTableMapper.selectDbTableListByNames(tableNames);
    for (GenTable table : tables) {
        // 初始化表配置
        GenUtils.initTable(table);
        genTableMapper.insert(table);

        // 初始化列配置
        List<GenTableColumn> columns = genTableColumnMapper.selectDbColumnsByName(table.getTableName());
        for (GenTableColumn column : columns) {
            GenUtils.initColumn(column, table);
            genTableColumnMapper.insert(column);
        }
    }
}

// 3. 生成代码
public byte[] downloadCode(Long tableId) {
    GenTable table = genTableMapper.selectById(tableId);
    List<GenTableColumn> columns = genTableColumnMapper.selectByTableId(tableId);

    // 准备模板数据
    Map<String, Object> dataModel = new HashMap<>();
    dataModel.put("table", table);
    dataModel.put("columns", columns);
    dataModel.put("package", table.getPackageName());
    // ... 更多变量

    // 生成代码文件
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    ZipOutputStream zip = new ZipOutputStream(out);

    for (String template : getTemplates()) {
        StringWriter sw = new StringWriter();
        Template tpl = configuration.getTemplate(template);
        tpl.process(dataModel, sw);

        String fileName = getFileName(template, table);
        zip.putNextEntry(new ZipEntry(fileName));
        zip.write(sw.toString().getBytes(StandardCharsets.UTF_8));
        zip.closeEntry();
    }

    zip.close();
    return out.toByteArray();
}
```

---

## 10. 风险与应对

### 10.1 技术风险

| 风险 | 影响 | 应对措施 |
|------|------|---------|
| Spring Boot 3兼容性 | 部分依赖不支持 | 提前验证依赖兼容性，选择支持JDK17的版本 |
| Sa-Token学习成本 | 实现复杂权限 | 参考官方文档，编写详细的权限设计文档 |
| 前端组件复杂度 | 开发效率 | 使用成熟UI库，封装通用组件 |

### 10.2 业务风险

| 风险 | 影响 | 应对措施 |
|------|------|---------|
| 需求变更 | 返工 | 阶段性评审，及时确认需求 |
| 数据权限设计 | 功能不满足 | 参考成熟方案，预留扩展点 |
| 代码生成模板 | 不够灵活 | 支持自定义模板 |

### 10.3 进度风险

| 风险 | 影响 | 应对措施 |
|------|------|---------|
| 技术难点攻关 | 延期 | 提前技术预研，识别难点 |
| 人员变动 | 知识断层 | 完善文档，代码评审 |
| 测试不充分 | 线上问题 | 预留充足测试时间 |

---

## 附录A：目录结构完整清单

### 后端目录

```
jsite-admin/
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── com/jsite/
│   │   │       ├── JsiteApplication.java
│   │   │       ├── common/
│   │   │       │   ├── annotation/
│   │   │       │   │   ├── DataScope.java
│   │   │       │   │   ├── Log.java
│   │   │       │   │   └── RateLimiter.java
│   │   │       │   ├── aspect/
│   │   │       │   │   ├── DataScopeAspect.java
│   │   │       │   │   └── LogAspect.java
│   │   │       │   ├── constant/
│   │   │       │   │   ├── CacheConstants.java
│   │   │       │   │   ├── Constants.java
│   │   │       │   │   └── HttpStatus.java
│   │   │       │   ├── core/
│   │   │       │   │   ├── controller/
│   │   │       │   │   │   └── BaseController.java
│   │   │       │   │   ├── domain/
│   │   │       │   │   │   ├── BaseEntity.java
│   │   │       │   │   │   ├── R.java
│   │   │       │   │   │   └── TreeEntity.java
│   │   │       │   │   └── page/
│   │   │       │   │       ├── PageQuery.java
│   │   │       │   │       └── TableDataInfo.java
│   │   │       │   ├── enums/
│   │   │       │   │   ├── BusinessStatus.java
│   │   │       │   │   ├── BusinessType.java
│   │   │       │   │   └── DataScopeEnum.java
│   │   │       │   ├── exception/
│   │   │       │   │   ├── GlobalExceptionHandler.java
│   │   │       │   │   └── ServiceException.java
│   │   │       │   └── utils/
│   │   │       │       ├── DateUtils.java
│   │   │       │       ├── SecurityUtils.java
│   │   │       │       ├── ServletUtils.java
│   │   │       │       ├── SqlUtils.java
│   │   │       │       ├── StringUtils.java
│   │   │       │       └── TreeUtils.java
│   │   │       ├── framework/
│   │   │       │   ├── config/
│   │   │       │   │   ├── CorsConfig.java
│   │   │       │   │   ├── Knife4jConfig.java
│   │   │       │   │   ├── MybatisPlusConfig.java
│   │   │       │   │   ├── RedisConfig.java
│   │   │       │   │   ├── SaTokenConfig.java
│   │   │       │   │   └── ThreadPoolConfig.java
│   │   │       │   ├── mybatis/
│   │   │       │   │   ├── DataScopeInterceptor.java
│   │   │       │   │   └── MyMetaObjectHandler.java
│   │   │       │   ├── security/
│   │   │       │   │   ├── SaTokenExceptionHandler.java
│   │   │       │   │   └── StpInterfaceImpl.java
│   │   │       │   └── web/
│   │   │       │       ├── RepeatableFilter.java
│   │   │       │       └── XssFilter.java
│   │   │       └── modules/
│   │   │           ├── gen/
│   │   │           │   ├── controller/
│   │   │           │   │   └── GenController.java
│   │   │           │   ├── entity/
│   │   │           │   │   ├── GenTable.java
│   │   │           │   │   └── GenTableColumn.java
│   │   │           │   ├── mapper/
│   │   │           │   │   ├── GenTableColumnMapper.java
│   │   │           │   │   ├── GenTableMapper.java
│   │   │           │   │   └── xml/
│   │   │           │   │       ├── GenTableColumnMapper.xml
│   │   │           │   │       └── GenTableMapper.xml
│   │   │           │   ├── service/
│   │   │           │   │   ├── IGenTableColumnService.java
│   │   │           │   │   ├── IGenTableService.java
│   │   │           │   │   └── impl/
│   │   │           │   │       ├── GenTableColumnServiceImpl.java
│   │   │           │   │       └── GenTableServiceImpl.java
│   │   │           │   └── util/
│   │   │           │       ├── GenUtils.java
│   │   │           │       └── VelocityUtils.java
│   │   │           ├── monitor/
│   │   │           │   ├── controller/
│   │   │           │   │   ├── OnlineController.java
│   │   │           │   │   ├── SysLoginLogController.java
│   │   │           │   │   └── SysOperLogController.java
│   │   │           │   ├── entity/
│   │   │           │   │   ├── SysLoginLog.java
│   │   │           │   │   └── SysOperLog.java
│   │   │           │   ├── mapper/
│   │   │           │   │   ├── SysLoginLogMapper.java
│   │   │           │   │   ├── SysOperLogMapper.java
│   │   │           │   │   └── xml/
│   │   │           │   │       ├── SysLoginLogMapper.xml
│   │   │           │   │       └── SysOperLogMapper.xml
│   │   │           │   └── service/
│   │   │           │       ├── ISysLoginLogService.java
│   │   │           │       ├── ISysOperLogService.java
│   │   │           │       └── impl/
│   │   │           │           ├── SysLoginLogServiceImpl.java
│   │   │           │           └── SysOperLogServiceImpl.java
│   │   │           └── system/
│   │   │               ├── controller/
│   │   │               │   ├── AuthController.java
│   │   │               │   ├── SysConfigController.java
│   │   │               │   ├── SysDeptController.java
│   │   │               │   ├── SysDictDataController.java
│   │   │               │   ├── SysDictTypeController.java
│   │   │               │   ├── SysMenuController.java
│   │   │               │   ├── SysPostController.java
│   │   │               │   ├── SysRoleController.java
│   │   │               │   └── SysUserController.java
│   │   │               ├── dto/
│   │   │               │   ├── LoginDTO.java
│   │   │               │   └── LoginUser.java
│   │   │               ├── entity/
│   │   │               │   ├── SysConfig.java
│   │   │               │   ├── SysDept.java
│   │   │               │   ├── SysDictData.java
│   │   │               │   ├── SysDictType.java
│   │   │               │   ├── SysMenu.java
│   │   │               │   ├── SysPost.java
│   │   │               │   ├── SysRole.java
│   │   │               │   ├── SysRoleDept.java
│   │   │               │   ├── SysRoleMenu.java
│   │   │               │   ├── SysUser.java
│   │   │               │   ├── SysUserPost.java
│   │   │               │   └── SysUserRole.java
│   │   │               ├── mapper/
│   │   │               │   ├── SysConfigMapper.java
│   │   │               │   ├── SysDeptMapper.java
│   │   │               │   ├── SysDictDataMapper.java
│   │   │               │   ├── SysDictTypeMapper.java
│   │   │               │   ├── SysMenuMapper.java
│   │   │               │   ├── SysPostMapper.java
│   │   │               │   ├── SysRoleDeptMapper.java
│   │   │               │   ├── SysRoleMapper.java
│   │   │               │   ├── SysRoleMenuMapper.java
│   │   │               │   ├── SysUserMapper.java
│   │   │               │   ├── SysUserPostMapper.java
│   │   │               │   ├── SysUserRoleMapper.java
│   │   │               │   └── xml/
│   │   │               │       ├── SysConfigMapper.xml
│   │   │               │       ├── SysDeptMapper.xml
│   │   │               │       ├── SysDictDataMapper.xml
│   │   │               │       ├── SysDictTypeMapper.xml
│   │   │               │       ├── SysMenuMapper.xml
│   │   │               │       ├── SysPostMapper.xml
│   │   │               │       ├── SysRoleDeptMapper.xml
│   │   │               │       ├── SysRoleMapper.xml
│   │   │               │       ├── SysRoleMenuMapper.xml
│   │   │               │       ├── SysUserMapper.xml
│   │   │               │       ├── SysUserPostMapper.xml
│   │   │               │       └── SysUserRoleMapper.xml
│   │   │               └── service/
│   │   │                   ├── ISysConfigService.java
│   │   │                   ├── ISysDeptService.java
│   │   │                   ├── ISysDictDataService.java
│   │   │                   ├── ISysDictTypeService.java
│   │   │                   ├── ISysMenuService.java
│   │   │                   ├── ISysPostService.java
│   │   │                   ├── ISysRoleService.java
│   │   │                   ├── ISysUserService.java
│   │   │                   ├── SysLoginService.java
│   │   │                   └── impl/
│   │   │                       ├── SysConfigServiceImpl.java
│   │   │                       ├── SysDeptServiceImpl.java
│   │   │                       ├── SysDictDataServiceImpl.java
│   │   │                       ├── SysDictTypeServiceImpl.java
│   │   │                       ├── SysMenuServiceImpl.java
│   │   │                       ├── SysPostServiceImpl.java
│   │   │                       ├── SysRoleServiceImpl.java
│   │   │                       └── SysUserServiceImpl.java
│   │   └── resources/
│   │       ├── application.yml
│   │       ├── application-dev.yml
│   │       ├── application-prod.yml
│   │       ├── logback-spring.xml
│   │       ├── db/
│   │       │   └── migration/
│   │       │       ├── V1.0.0__create_tables.sql
│   │       │       ├── V1.0.1__init_data.sql
│   │       │       └── V1.0.2__create_index.sql
│   │       └── templates/
│   │           └── gen/
│   │               ├── java/
│   │               │   ├── controller.java.ftl
│   │               │   ├── entity.java.ftl
│   │               │   ├── mapper.java.ftl
│   │               │   ├── service.java.ftl
│   │               │   └── serviceImpl.java.ftl
│   │               ├── vue/
│   │               │   ├── api.ts.ftl
│   │               │   ├── form.vue.ftl
│   │               │   └── index.vue.ftl
│   │               └── xml/
│   │                   └── mapper.xml.ftl
│   └── test/
│       └── java/
│           └── com/jsite/
│               └── JsiteApplicationTests.java
└── pom.xml
```

### 前端目录

```
jsite-ui/
├── src/
│   ├── api/
│   │   ├── gen/
│   │   │   └── gen.ts
│   │   ├── login.ts
│   │   ├── monitor/
│   │   │   ├── loginLog.ts
│   │   │   ├── online.ts
│   │   │   └── operLog.ts
│   │   └── system/
│   │       ├── config.ts
│   │       ├── dept.ts
│   │       ├── dict.ts
│   │       ├── menu.ts
│   │       ├── post.ts
│   │       ├── role.ts
│   │       └── user.ts
│   ├── assets/
│   │   ├── icons/
│   │   ├── images/
│   │   └── styles/
│   │       ├── index.less
│   │       ├── reset.less
│   │       └── variables.less
│   ├── components/
│   │   ├── Dict/
│   │   │   ├── index.ts
│   │   │   └── src/
│   │   │       ├── DictSelect.vue
│   │   │       └── DictTag.vue
│   │   ├── Form/
│   │   │   ├── index.ts
│   │   │   └── src/
│   │   │       ├── BasicForm.vue
│   │   │       └── types.ts
│   │   ├── Icon/
│   │   │   ├── index.ts
│   │   │   └── src/
│   │   │       └── Icon.vue
│   │   ├── Modal/
│   │   │   ├── index.ts
│   │   │   └── src/
│   │   │       └── BasicModal.vue
│   │   └── Table/
│   │       ├── index.ts
│   │       └── src/
│   │           ├── BasicTable.vue
│   │           └── types.ts
│   ├── directives/
│   │   ├── index.ts
│   │   ├── loading.ts
│   │   ├── permission.ts
│   │   └── role.ts
│   ├── hooks/
│   │   ├── core/
│   │   │   └── useContext.ts
│   │   └── web/
│   │       ├── useDict.ts
│   │       ├── usePermission.ts
│   │       └── useTable.ts
│   ├── layouts/
│   │   ├── blank/
│   │   │   └── index.vue
│   │   └── default/
│   │       ├── content/
│   │       │   └── index.vue
│   │       ├── header/
│   │       │   └── index.vue
│   │       ├── index.vue
│   │       ├── sider/
│   │       │   ├── index.vue
│   │       │   └── Menu.vue
│   │       └── tabs/
│   │           └── index.vue
│   ├── router/
│   │   ├── guard/
│   │   │   ├── index.ts
│   │   │   └── permissionGuard.ts
│   │   ├── helper/
│   │   │   └── menuHelper.ts
│   │   ├── index.ts
│   │   └── routes/
│   │       ├── index.ts
│   │       └── modules/
│   │           └── base.ts
│   ├── store/
│   │   ├── index.ts
│   │   └── modules/
│   │       ├── app.ts
│   │       ├── permission.ts
│   │       ├── tabs.ts
│   │       └── user.ts
│   ├── utils/
│   │   ├── auth/
│   │   │   └── index.ts
│   │   ├── cache/
│   │   │   └── index.ts
│   │   ├── http/
│   │   │   ├── axios.ts
│   │   │   ├── index.ts
│   │   │   └── types.ts
│   │   ├── index.ts
│   │   └── tree.ts
│   ├── views/
│   │   ├── dashboard/
│   │   │   └── index.vue
│   │   ├── error/
│   │   │   ├── 404.vue
│   │   │   └── 500.vue
│   │   ├── gen/
│   │   │   ├── ColumnConfig.vue
│   │   │   ├── EditTable.vue
│   │   │   ├── ImportTable.vue
│   │   │   ├── index.vue
│   │   │   └── Preview.vue
│   │   ├── login/
│   │   │   └── index.vue
│   │   ├── monitor/
│   │   │   ├── loginLog/
│   │   │   │   └── index.vue
│   │   │   ├── online/
│   │   │   │   └── index.vue
│   │   │   └── operLog/
│   │   │       └── index.vue
│   │   └── system/
│   │       ├── config/
│   │       │   ├── ConfigForm.vue
│   │       │   └── index.vue
│   │       ├── dept/
│   │       │   ├── DeptForm.vue
│   │       │   └── index.vue
│   │       ├── dict/
│   │       │   ├── data.vue
│   │       │   └── index.vue
│   │       ├── menu/
│   │       │   ├── index.vue
│   │       │   └── MenuForm.vue
│   │       ├── post/
│   │       │   ├── index.vue
│   │       │   └── PostForm.vue
│   │       ├── role/
│   │       │   ├── DataScope.vue
│   │       │   ├── index.vue
│   │       │   ├── MenuAuth.vue
│   │       │   └── RoleForm.vue
│   │       └── user/
│   │           ├── index.vue
│   │           ├── UserForm.vue
│   │           └── UserImport.vue
│   ├── App.vue
│   ├── env.d.ts
│   └── main.ts
├── public/
│   └── favicon.ico
├── index.html
├── vite.config.ts
├── tsconfig.json
├── package.json
├── .eslintrc.js
├── .prettierrc
├── .env.development
└── .env.production
```

---

## 附录B：任务检查清单

### 阶段一检查清单

- [ ] Maven项目结构创建完成
- [ ] pom.xml依赖配置完成
- [ ] 通用模块代码编写完成
- [ ] 框架配置类编写完成
- [ ] 数据库脚本执行成功
- [ ] Vite项目创建完成
- [ ] 前端依赖安装完成
- [ ] 路由系统配置完成
- [ ] 状态管理配置完成
- [ ] Axios请求封装完成
- [ ] 布局组件开发完成
- [ ] 通用组件开发完成
- [ ] 登录页面开发完成
- [ ] 前后端联调成功

### 阶段二检查清单

- [ ] 用户管理后端接口完成
- [ ] 用户管理前端页面完成
- [ ] 角色管理后端接口完成
- [ ] 角色管理前端页面完成
- [ ] 菜单管理后端接口完成
- [ ] 菜单管理前端页面完成
- [ ] 部门管理后端接口完成
- [ ] 部门管理前端页面完成
- [ ] 岗位管理后端接口完成
- [ ] 岗位管理前端页面完成
- [ ] 字典管理后端接口完成
- [ ] 字典管理前端页面完成
- [ ] 系统配置后端接口完成
- [ ] 系统配置前端页面完成

### 阶段三检查清单

- [ ] 登录认证接口完成
- [ ] 获取用户信息接口完成
- [ ] 动态路由接口完成
- [ ] 前端动态路由实现完成
- [ ] 权限指令实现完成
- [ ] 权限Hook实现完成
- [ ] 数据权限注解实现完成
- [ ] 数据权限切面实现完成
- [ ] 权限功能测试通过

### 阶段四检查清单

- [ ] 代码生成表结构创建完成
- [ ] 数据库表信息读取功能完成
- [ ] 表导入功能完成
- [ ] 字段配置功能完成
- [ ] Java代码模板编写完成
- [ ] Vue代码模板编写完成
- [ ] 代码预览功能完成
- [ ] 代码下载功能完成
- [ ] 代码生成功能测试通过

### 阶段五检查清单

- [ ] 操作日志功能完成
- [ ] 登录日志功能完成
- [ ] 在线用户功能完成
- [ ] 强制下线功能完成
- [ ] 日志查询测试通过

### 阶段六检查清单

- [ ] 单元测试编写完成
- [ ] 集成测试通过
- [ ] 性能优化完成
- [ ] 安全加固完成
- [ ] 接口文档完善
- [ ] 部署文档编写
- [ ] Docker镜像构建完成
- [ ] 生产环境部署成功

---

**文档版本历史**

| 版本 | 日期 | 作者 | 说明 |
|------|------|------|------|
| 1.0.0 | 2026-01-15 | JSite Team | 初始版本 |
